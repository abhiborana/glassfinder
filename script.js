let lists = [
    // NEW UPDATES
    ["reno 8 pro", "oneplus 10r"],
    //OLD LIST
    [
        "oppo f11 pro",
        "oppo a54 5g",
        "oppo a52",
        "oppo a72",
        "oppo a92",
        "vivo v15",
        "vivo y30",
        "vivo y50",
        "vivo y50t",
        "vivo z1 pro",
        "samsung a11",
        "samsung m11",
        "mi note 9",
        "mi note 10t",
        "mi note 10 5g",
        "mi 10 prime 2022",
        "mi note 11 se",
        "poco m3 pro 5g",
        "realme x",
        "realme 6",
        "realme 6s",
        "realme 6i",
        "realme 7",
        "realme 8 5g",
        "realme 8s 5g",
        "realme 9 5g",
        "narzo 20 pro",
        "narzo 30 / 5g",
        "narzo 30 pro 5g",
    ],
    ["samsung m10", "samsung a10"],
    ["realme xt", "reno 7"],

    [
        "oppo f19",
        "oppo f19s",
        "oppo f19 pro",
        "oppo f19 pro + 5g",
        "oppo f21 pro",
        "oppo a74",
        "oppo a94",
        "oppo a95",
        "oppo a96 5g",
        "oppo f21 pro 5g",
        "reno 4 se",
        "reno 5 lite",
        "reno 5f",
        "reno 5z",
        "reno 6z",
        "reno 6 lite",
        "reno 7 4g",
        "reno 7 se 5g",
        "reno 7z 5g",
        "reno 8",
        "reno 8 lite",
        "oneplus nord ce 2 5g",
        "narzo 50 pro",
        "realme x7",
        "realme 7 pro",
        "realme 8",
        "realme 8 pro",
        "realme 9 pro +",
        "realme 9 4g",
        "realme v15",
        "find x5 lite",
    ],
    ["mi 10 2022", "mi 10 power", "poco c40"],
    ["mi note 10s", "mi note 10 4g", "mi note 11s", "mi note 11 4g", "poco m4 pro 4g"],
    [],
    [
        "mi 9",
        "mi 9a",
        "mi 9c",
        "mi 10a",
        "mi 10c",
        "poco c3",
        "realme c20",
        "realme c21",
        "realme c31",
        "samsung m13",
        "samsung a13",
        "samsung a23",
        "samsung m23",
        "samsung f23",
    ],
    ["mi 8", "mi 8a"],
    ["mi note 5 pro", "mi note 6", "mi note 6+"],
    ["oppo f15", "oppo f17", "oppo a73 4g", "oppo a91", "reno 3"],
    [
        "mi 10 prime 2020",
        "mi note 10t",
        "mi note 10 5g",
        "poco m3 pro 5g",
        "narzo 20 pro",
        "narzo 30",
        "narzo 30 pro 5g",
    ],
    ["mi 7", "mi note 7", "mi note 7 pro", "mi note 7s", "mi y3"],
    ["mi note 8 pro", "oppo a9", "oppo f11", "vivo y19"],
    ["samsung m30", "samsung m30s", "samsung a30", "samsung a50", "samsung a50s"],
    ["realme c2", "oppo a1k", "realme c2s"],
    ["realme x2", "realme xt", "oneplus 6t", "oneplus 7"],
    ["realme x7 pro", "reno 7 pro", "mi 11 lite"],
    ["oppo f9", "oppo f9 pro", "realme 2 pro", "realme 3 pro", "realme 5 pro"],
    ["oneplus 8t", "oneplus 9", "oneplus 9r"],
    ["vivo v17", "vivo v17 pro", "vivo v19"],
    ["vivo v51", "vivo v51 pro"],
    ["vivo y11", "vivo y12", "vivo y15", "vivo y17", "vivo v10"],
    ["vivo y20", "vivo y20a", "vivo y20g", "vivo y20i", "vivo t2x", "oppo a16", "samsung a13", "samsung f23", "samsung m23", "samsung m33"],
    ["vivo v11", "vivo v11 pro"],
    ["vivo v20 pro", "vivo v23 5g"],
    ["samsung a20", "samsung a30", "samsung a30s", "samsung a50", "samsung a50s", "samsung m10s", "samsung m21", "samsung m21s", "samsung m30", "samsung m31", "samsung f41"],
    ["samsung a7 2018", "samsung j4 plus", "samsung j6 plus", "samsung j8 2018"],
    [
        "mi 11 lite",
        "reno 7 pro",
        "realme x2 pro",
        "samsung a52",
        "samsung a52s 5g",
        "samsung a53 5g",
    ],
    ["mi k20", "mi k20 pro", "vivo v15 pro"],
    [
        "vivo y1s",
        "vivo y90",
        "vivo y91",
        "vivo y91i",
        "vivo y93",
        "vivo y93s",
        "vivo y94",
        "vivo y95",
        "vivo y97",
        "vivo z3i",
        "realme 3",
        "realme 3i",
        "oppo a1k",
        "oppo a5s",
        "oppo a7",
        "oppo a12",
    ],
    ["realme 2 pro", "realme u1"],
    [
        "realme 6 pro",
        "realme 7i",
        "realme 8i",
        "realme 9i",
        "realme 9ro",
        "realme 9 se 5g",
        "realme c17",
        "narzo 50",
        "samsung a32",
        "samsung a33",
        "oneplus nord ce 2 lite",
        "vivo v25",
        "oppo k10",
        "oppo a36",
        "oppo a53",
        "oppo a54 4g",
        "oppo a55 4g",
        "oppo a76",
        "oppo a96 4g",
    ],
    ["vivo v20 pro", "vivo v23 5g"],
    ["vivo v11", "vivo x23"],
    [
        "vivo v9",
        "vivo x21",
        "vivo x21i",
        "vivo y81",
        "vivo y83",
        "vivo y83 pro",
        "vivo y85",
        "vivo y89",
        "realme 2",
        "oppo a3s"
    ],
    [
        "realme gt / 5g",
        "realme x7 max 5g",
        "oppo f19 pro",
        "oppo f19 pro +",
        "reno 5",
        "oneplus nord ce 5g",
    ],
    [
        "oppo a5 2020",
        "oppo a9 2020",
        "vivo y51 2020",
        "vivo y51a",
        "vivo y53 5g",
        "vivo y53s 5g",
        "realme 5",
        "realme 5i",
        "realme 5s",
        "narzo 30a",
        "samsung a13",
        "symphony z50",
    ],
    [
        "realme c3",
        "realme c11",
        "realme c12",
        "realme c15",
        "narzo 10",
        "narzo 10a",
        "mi 9a",
        "mi 9c",
        "samsung m02",
    ],
    [
        "mi note 9s",
        "mi note 9 pro",
        "mi note 9 pro max",
        "mi note 10 lite",
        "mi note 10 pro",
        "mi note 10 pro max",
        "mi 10t",
        "mi 10t pro",
        "mi 10t lite",
        "mi note 11 pro",
        "mi note 11 pro +",
        "mi 11i",
        "mi 11x 5g",
        "mi 11x pro",
        "mi note 11t",
        "mi 11t",
        "mi 11t pro",
        "mi k30 5g",
        "mi k30 pro",
        "mi k30 pro zoom",
        "poco f2 pro",
        "poco m2 pro",
        "poco x2",
        "poco x3",
        "poco x3 nfc",
        "poco x3 pro",
        "samsung a53 5g",
        "samsung a54 5g",
        "samsung a72 5g",
        "samsung a74 5g",
    ],
    [
        "iphone 6",
        "iphone 6g",
        "iphone 6s",
        "iphone 7",
        "iphone 7g",
        "iphone 8",
        "iphone 8g",
    ],
    ["iphone 6+", "iphone 7+", "iphone 8+"],
    ["iphone x", "iphone xs", "iphone 11 pro"],
    ["iphone xr", "iphone 11"],
    ["iphone xs max", "iphone 11 pro max"],
    ["iphone 12", "iphone 12 pro"],
    ["iphone 13", "iphone 13 pro", "iphone 14"],
    ["vivo v10", "vivo y11", "vivo y12", "vivo y15", "vivo y17", "vivo u10"],
    ["oppo a5", "realme c1"],
    ["vivo v9", "vivo y81", "vivo y81i", "vivo y83", "vivo y83 pro", "vivo y85", "vivo y89", "oppo a5", "oppo a3s"],
    ["oppo a77", "oppo a77s", "oppo a57", "oppo a53s", "oppo a31", "oppo a16k", "vivo y51", "vivo y51a", "vivo y31", "vivo y12s", "vivo y75", "vivo y33", "vivo y33t", "vivo y35", "vivo y16", "vivo y22", "vivo y33", "poco m2", "poco m3", "poco c3", "mi 10a", "mi 11e", "samsung a12", "samsung a04s", "nokia g21 ds"],
    ["samsung m20", "realme 3 pro", "realme 5 pro", "oppo f9", "oppo f9 pro"],
    ["poco m3", "mi note 9 4g", "mi 9 power", "mi 9t", "oppo a9", "oppo a9x", "oppo f11", "vivo v3", "vivo y19", "vivo u20", "vivo y5s"]
];

// ONLY TRIAL CODE HERE

function exactSearch(exactInput) {
    let exactList = "";
    for (let a = 0; a < lists.length; a++) {
        if (lists[a].includes(exactInput.toLowerCase())) {
            exactList = lists[a].toString().toUpperCase();
            return exactList;
        }
    }
    if (!exactList) {
        return false;
    }
}

// Trial Code Ends Here

function searchList(query) {
    let newList = "";
    for (let i = 0; i < lists.length; i++) {
        // if (lists[i].includes(query)) {
        //     console.log(lists[i]);
        //     return lists[i];
        // }

        if (lists[i].toString().includes(query.toString().toLowerCase())) {
            newList = newList.concat(lists[i].toString(), "<hr />");
        }
    }

    if (newList.length === 0) {
        return false;
    } else {
        return newList.toUpperCase();
    }
}

const handleSubmit = () => {
    if (queryText.value.length > 0) {
        // console.log(exactSearch(queryText.value)+"<HR />")
        // console.log(queryText.value);
        // console.log(searchList(queryText.value));
        // console.log(searchList(queryText.value).split(`${exactSearch(queryText.value)}<HR />`).join(""))
        displayResult.classList.remove("d-none");

        if (!searchList(queryText.value)) {
            let html = `
        <div class="card" style="width: 30rem;">
            <div class="card-body">
                <h5 class="card-title gradient">${queryText.value.toUpperCase()}</h5>
                <h6 class="card-subtitle mb-2 text-muted">No match found for your device</h6>
                <p class="card-text gradientDark">Oops, we are sorry but we didn't found any other model that matches with your device.Please try searching for any other model</p>
                <p class="card-subtitle mb-2 text-muted d-none" id="serviceMsg">Thank You For Using Our Service!!!</p>
            </div>
        </div>`;

            displayResult.innerHTML = html;
        } else {
            let html = `
        <div class="card" style="width: 30rem;">
            <div class="card-body">
                <h5 class="card-title gradient">${queryText.value.toUpperCase()}</h5>
                <h6 class="card-subtitle mb-2 text-muted">Matches with these models</h6>
                <div class="card-text gradientDark mb-2">${!exactSearch(queryText.value)
                    ? `No Exact Match Found for ${queryText.value}`
                    : exactSearch(queryText.value)
                }</div>

                ${searchList(queryText.value) === exactSearch(queryText.value) + "<HR />" ? "" : `<h6 class="card-subtitle mb-2 text-muted">Alternate/More Matches</h6>
                <div class="card-text gradientDark">${searchList(queryText.value).split(`${exactSearch(queryText.value)}<HR />`).join("")}</div>`}

                <p class="card-subtitle mb-2 text-muted d-none" id="serviceMsg">Thank You For Using Our Service!!!</p>
            </div>
        </div>`;

            displayResult.innerHTML = html;
        }
        setTimeout(() => {
            serviceMsg.classList.remove("d-none");
            const interval = setInterval(() => {
                serviceMsg.classList.toggle("gradient");
            }, 500);
            setTimeout(() => {
                clearInterval(interval);
            }, 3000);
        }, 4000);
    }
};

const submitContribute = document.getElementById("submitContribute");

submitContribute.addEventListener("click", () => {
    let nameContribute = document.getElementById("nameContribute").value;
    let modelOne = document.getElementById("modelOne").value;
    let modelTwo = document.getElementById("modelTwo").value;

    if (nameContribute === "gandu" || nameContribute == "bsdk") {
        alert("Plaese Enter Correct Name")
        return;
    }

    if (nameContribute.length > 3 && modelOne.length > 3 && modelTwo.length > 3) {
        emailjs.init('cbYMa5Nu3u0x9LiH_');
        emailjs.send("service_2khse2g", "template_6b7behw", {
            from_name: "abhiborana.a@gmail.com",
            message: `Sender Name: ${nameContribute},Model One: ${modelOne},Matches With: ${modelTwo}`,
            reply_to: "abhiborana.a@gmail.com",
        }).then(() => {
            alert("Sent Successfully")
            location.reload()
            nameContribute = ""
            modelOne = ""
            modelTwo = ""
        }).catch((err) => {
            alert("Some Error Occurred")
        });
    } else {
        alert("Please Provide Proper Information")
    }
})
